import{l as p}from"./index.082e90b7.js";var h=0;function u(){return new y}function y(){this._="@"+(++h).toString(36)}y.prototype=u.prototype={constructor:y,get:function(n){for(var t=this._;!(t in n);)if(!(n=n.parentNode))return;return n[t]},set:function(n,t){return n[this._]=t},remove:function(n){return this._ in n&&delete n[this._]},toString:function(){return this._}};u();function d(n,t){var a=n.select("#"+t.id);a.empty()&&(a=n.append("g").attr("id",t.id)),a.attr("transform","translate("+t.x+", "+t.y+")"),t.renderData=[],t.OldRenderData==null&&(t.OldRenderData=[]);for(let r=0;r<t.data.length;r++)t.renderData[r]=t.data[r];t.renderData.push("null"),a.selectAll("rect").data(t.renderData).join(r=>{var e=r.append("rect");return e.style("opacity",0).transition().duration(500).style("opacity",1),e},r=>r,r=>r.transition().duration(500).style("opacity",0).remove()).attr("x",(r,e)=>t.cellWidth*e*2).attr("y",0).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","none").attr("stroke","black").attr("stroke-width",1),a.selectAll("text").data(t.renderData).join(r=>{var e=r.append("text");return e.style("opacity",0).transition().duration(500).style("opacity",1).text(o=>o),e},r=>(r.filter((e,o)=>e!=t.OldRenderData[o]).style("opacity",0).transition().duration(500).style("opacity",1),r.text(e=>e)),r=>r.transition().duration(500).style("opacity",0).remove()).attr("x",(r,e)=>t.cellWidth*e*2+t.cellWidth/2).attr("y",t.cellHeight/2).attr("font-family","Arial Black").attr("font-size",t.cellFontSize).attr("fill","black").style("text-anchor","middle").style("alignment-baseline","central"),a.append("svg:defs").append("svg:marker").attr("id","arrow").attr("refX",6).attr("refY",6).attr("markerWidth",6).attr("markerHeight",6).attr("viewBox","0 0 12 12").attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").style("stroke","black"),a.selectAll("line").data(t.data).join(r=>{var e=r.append("line");return e.attr("x1",(o,l)=>t.cellWidth*(l*2+1)).attr("y1",t.cellHeight/2).attr("x2",(o,l)=>t.cellWidth*(l*2+2)-2).attr("y2",t.cellHeight/2).attr("stroke","black").attr("stroke-width",1).attr("marker-end","url(#arrow)").style("opacity",0).transition().duration(500).style("opacity",1),e},r=>r.transition().duration(500).ease(p).attr("x1",(e,o)=>t.cellWidth*(o*2+1)).attr("y1",t.cellHeight/2).attr("x2",(e,o)=>t.cellWidth*(o*2+2)-2).attr("y2",t.cellHeight/2),r=>r.transition().duration(500).style("opacity",0).remove());for(let r=0;r<t.renderData.length;r++)t.OldRenderData[r]=t.renderData[r]}function x(n,t,a){var r=n.select("#"+a.id);r.empty()&&(r=n.append("g").attr("id",a.id).lower()),r.attr("transform","translate("+t.x+", "+t.y+")").lower(),r.append("svg:defs").append("svg:marker").attr("id","arrow").attr("refX",6).attr("refY",6).attr("markerWidth",6).attr("markerHeight",6).attr("viewBox","0 0 12 12").attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").style("stroke","black");var e=t.cellWidth*a.index*2+t.cellWidth/2,o=-t.cellHeight;a.upper||(o=t.cellHeight),r.selectAll("line").data([a.index]).join(l=>{var c=l.append("line");return c.attr("x1",e).attr("y1",(a.upper,o+12)).attr("x2",e).attr("y2",a.upper?o+18:o+6).attr("stroke","black").attr("stroke-width",1).attr("marker-end","url(#arrow)").style("opacity",0).transition().duration(500).style("opacity",1),c},l=>l.transition().duration(500).ease(p).attr("x1",e).attr("y1",(a.upper,o+12)).attr("x2",e).attr("y2",a.upper?o+18:o+6),l=>l),r.selectAll("text").data([a.index]).join(l=>{var c=l.append("text");return c.attr("x",e).attr("y",a.upper?o+8:o+16).attr("font-family","Arial Black").attr("font-size",t.cellFontSize).attr("fill","black").style("text-anchor","middle").style("alignment-baseline","central").text(a.name+"="+a.index).style("opacity",0).transition().duration(500).style("opacity",1),c},l=>l.transition().duration(500).ease(p).attr("x",e).attr("y",a.upper?o+8:o+16).text(a.name+"="+a.index),l=>l),r.selectAll("rect").data([a.index]).join(l=>l.append("rect").attr("x",a.index*t.cellWidth*2).attr("y",0).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","gray").style("opacity",.5),l=>l.transition().duration(200).style("opacity",0).transition().duration(100).ease(p).attr("x",a.index*t.cellWidth*2).attr("y",0).transition().duration(200).style("opacity",.5),l=>l)}export{x as a,d};
