import{l as y}from"./index.082e90b7.js";function h(c,t){var e=c.select("#"+t.id);e.empty()&&(e=c.append("g").attr("id",t.id)),e.attr("transform","translate("+t.x+", "+t.y+")");var n=0,d=Math.max(0,t.data.length);for(let l=0;l<t.data.length;l++)n=Math.max(n,t.data[l].length);var o=[],s=[];t.renderData=[];for(let l=0;l<d;l++)for(let r=0;r<n;r++){var a=n*l+r;o[a]=r,s[a]=l,t.renderData[a]=""}for(let l=0;l<t.data.length;l++)for(let r=0;r<t.data[l].length;r++){var a=n*l+r;t.renderData[a]=t.data[l][r]}t.OldRenderData==null&&(t.OldRenderData=[]),e.selectAll("rect").data(t.renderData).join(l=>{var r=l.append("rect");return r.style("opacity",0).transition().duration(500).style("opacity",1),r},l=>l,l=>l.transition().duration(500).style("opacity",0).remove()).attr("x",(l,r)=>t.cellWidth*o[r]).attr("y",(l,r)=>t.cellHeight*s[r]).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","none").attr("stroke","black").attr("stroke-width",1),e.selectAll("text").data(t.renderData).join(l=>{var r=l.append("text");return r.style("opacity",0).transition().duration(500).style("opacity",1).text(i=>i),r},l=>(l.filter((r,i)=>r!=t.OldRenderData[i]).style("opacity",0).transition().duration(500).style("opacity",1),l.text(r=>r)),l=>l.transition().duration(500).style("opacity",0).remove()).attr("x",(l,r)=>o[r]*t.cellWidth+t.cellWidth/2).attr("y",(l,r)=>t.cellHeight*s[r]+t.cellHeight/2).attr("font-family","Arial Black").attr("font-size",t.cellFontSize).attr("fill","black").style("text-anchor","middle").style("alignment-baseline","central");for(let l=0;l<t.renderData.length;l++)t.OldRenderData[l]=t.renderData[l]}function f(c,t,e){var n=c.select("#"+e.id);if(n.empty()&&(n=c.append("g").attr("id",e.id).lower()),e.index<0){n.selectAll("*").remove();return}n.attr("transform","translate("+t.x+", "+t.y+")").lower(),n.append("svg:defs").append("svg:marker").attr("id","arrow").attr("refX",6).attr("refY",6).attr("markerWidth",6).attr("markerHeight",6).attr("viewBox","0 0 12 12").attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").style("stroke","black");var d=t.cellWidth*e.index+t.cellWidth/2,o=-t.cellHeight;e.upper||(o=t.data.length*t.cellHeight),n.selectAll("line").data([e.index]).join(a=>{var l=a.append("line");return l.attr("x1",d).attr("y1",(e.upper,o+12)).attr("x2",d).attr("y2",e.upper?o+18:o+6).attr("stroke","black").attr("stroke-width",1).attr("marker-end","url(#arrow)").style("opacity",0).transition().duration(500).style("opacity",1),l},a=>a.transition().duration(500).ease(y).attr("x1",d).attr("y1",(e.upper,o+12)).attr("x2",d).attr("y2",e.upper?o+18:o+6),a=>a),n.selectAll("text").data([e.index]).join(a=>{var l=a.append("text");return l.attr("x",d).attr("y",e.upper?o+8:o+16).attr("font-family","Arial Black").attr("font-size",t.cellFontSize).attr("fill","black").style("text-anchor","middle").style("alignment-baseline","central").text(e.name+"="+e.index).style("opacity",0).transition().duration(500).style("opacity",1),l},a=>a.transition().duration(500).ease(y).attr("x",d).attr("y",e.upper?o+8:o+16).text(e.name+"="+e.index),a=>a);var s=[];for(let a=0;a<t.data.length;a++)s[a]=0;n.selectAll("rect").data(s).join(a=>a.append("rect").attr("x",e.index*t.cellWidth).attr("y",(l,r)=>t.cellHeight*r).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","gray").style("opacity",.5),a=>a.transition().duration(500).ease(y).attr("x",e.index*t.cellWidth).attr("y",(l,r)=>t.cellHeight*r),a=>a)}function g(c,t,e){var n=c.select("#"+e.id);if(n.empty()&&(n=c.append("g").attr("id",e.id).lower()),e.index<0){n.selectAll("*").remove();return}n.attr("transform","translate("+t.x+", "+t.y+")").lower(),n.append("svg:defs").append("svg:marker").attr("id","arrow").attr("refX",6).attr("refY",6).attr("markerWidth",6).attr("markerHeight",6).attr("viewBox","0 0 12 12").attr("orient","auto").append("path").attr("d","M2,2 L10,6 L2,10 L6,6 L2,2").style("stroke","black");var d=0,o=t.cellHeight/2+t.cellHeight*e.index;e.left||(d=t.data[e.index].length*t.cellWidth),n.selectAll("line").data([e.index]).join(a=>{var l=a.append("line");return l.attr("x1",e.left?d-12:d+12).attr("y1",o).attr("x2",e.left?d-6:d+6).attr("y2",o).attr("stroke","black").attr("stroke-width",1).attr("marker-end","url(#arrow)").style("opacity",0).transition().duration(500).style("opacity",1),l},a=>a.transition().duration(500).ease(y).attr("x1",e.left?d-12:d+12).attr("y1",o).attr("x2",e.left?d-6:d+6).attr("y2",o),a=>a),n.selectAll("text").data([e.index]).join(a=>{var l=a.append("text");return l.attr("x",e.left?d-24:d+24).attr("y",o).attr("font-family","Arial Black").attr("font-size",t.cellFontSize).attr("fill","black").style("text-anchor","middle").style("alignment-baseline","central").text(e.name+"="+e.index).style("opacity",0).transition().duration(500).style("opacity",1),l},a=>a.transition().duration(500).ease(y).attr("x",e.left?d-24:d+24).attr("y",o).text(e.name+"="+e.index),a=>a);var s=[];for(let a=0;a<t.data[e.index].length;a++)s[a]=0;n.selectAll("rect").data(s).join(a=>a.append("rect").attr("x",(l,r)=>t.cellWidth*r).attr("y",e.index*t.cellHeight).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","gray").style("opacity",.5),a=>a.transition().duration(500).ease(y).attr("x",(l,r)=>t.cellWidth*r).attr("y",e.index*t.cellHeight),a=>a)}function u(c,t,e){var n=c.select("#"+e.id);n.empty()&&(n=c.append("g").attr("id",e.id).lower()),n.attr("transform","translate("+t.x+", "+t.y+")"),n.selectAll("rect").data([e.name]).join(d=>d.append("rect").attr("x",e.x*t.cellWidth).attr("y",e.y*t.cellHeight).attr("height",t.cellHeight).attr("width",t.cellWidth).style("fill","gray").style("opacity",.5),d=>d.transition().duration(500).ease(y).attr("x",e.x*t.cellWidth).attr("y",e.y*t.cellHeight),d=>d)}export{f as a,u as b,g as c,h as d};
